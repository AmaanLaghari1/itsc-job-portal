import{r,f as S,i as R,j as e,n,L as j}from"./index-DrpCck3H.js";/* empty css              */import{l as L,b as q}from"./isSymbol-B98uY8n-.js";import{F as M,a as F,b,E as f}from"./formik.esm-DftA7rzV.js";import{a as P}from"./AuthAction-Bnnw91pu.js";import{A as O}from"./Alert-CXLFhIlH.js";import{c as U,a as u}from"./index.esm-Cv9wGfPn.js";import{g as k}from"./AnnouncementRequest-oTMmNYuw.js";import{H}from"./HTMLRenderer-C7NoYsFJ.js";import{M as z}from"./Modal-Cem1LZ5I.js";import{C as G,a as Q,b as i,c as l,d as V,e as Y}from"./CTable-DWjssPVJ.js";import{C as B,a as $}from"./CCardBody-nX4X9_XO.js";import{C as W}from"./CCardTitle-CNLQud-q.js";import{C as d}from"./CCardText-Bu7hpMGT.js";import"./CConditionalPortal-C416BAvS.js";const he=()=>{var N;const[g,o]=r.useState(!1),[a,c]=r.useState(null),w=S(s=>s.ui.theme),v=R(),[m,h]=r.useState(!1),[x,y]=r.useState([]),C=s=>{c(s),o(!0)},E=()=>{o(!1),c(null)},T=async()=>{try{const s=await k(6);y(s.data)}catch(s){console.log(s)}};r.useEffect(()=>{T()},[]);const _={cnic_no:"",password:""},A=U({cnic_no:u().required("CNIC No. is required!"),password:u().required("Password is required!")}),D=async(s,{setSubmitting:t,resetForm:I,setFieldError:J})=>{t(!1),h(!0);const p=await v(P(s));p.success||O({status:!1,text:p.error.error_message||"login failed"}),I({values:s}),h(!1)};return e.jsx("div",{children:e.jsx("div",{style:{zIndex:1},className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-sm-6 order-2 order-sm-1 p-3",children:e.jsxs("div",{className:"announcement-container rounded-4 w-100 h-100 shadow shadow-lg",children:[e.jsx("h3",{className:"fw-bolder p-3 text-decoration-underline link-offset-3",children:"Recent Announcements"}),e.jsxs("div",{className:"px-3",style:{maxHeight:"84vh",overflowY:"scroll"},children:[e.jsxs(G,{striped:!0,hover:!0,bordered:!0,style:{tableLayout:"fixed"},children:[e.jsx(Q,{className:"bg-danger",style:{position:"sticky",top:0,zIndex:1},children:e.jsxs(i,{children:[e.jsx(l,{className:"col-1 bg-primary text-white fw-bold text-center",children:"#"}),e.jsx(l,{className:"bg-primary text-white fw-bold",children:"Announcement"})]})}),e.jsx(V,{className:"w-100",style:{maxHeight:"18rem",overflowY:"auto"},children:x.length<1?e.jsx(i,{children:e.jsx(l,{colSpan:2,className:"text-center",children:"No announcements available at the moment!"})}):x.map((s,t)=>e.jsxs(i,{children:[e.jsx(l,{scope:"row",className:"text-center align-middle",children:e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100%"},children:t+1})}),e.jsxs(Y,{style:{cursor:"pointer"},onClick:()=>C(s),children:[e.jsx("div",{className:"scrollable-title",children:s.ANNOUNCEMENT_TITLE}),e.jsxs("div",{className:"small",children:["Last Date: ",e.jsx("span",{className:"text-danger fw-bold",children:n(s.END_DATE)??""})]})]})]},s.ANNOUNCEMENT_ID))})]}),a&&e.jsx(z,{setVisible:o,visible:g,size:"lg",position:"center",onClose:E,children:e.jsx(B,{className:"shadow shadow-lg my-5 border-0",children:e.jsxs($,{children:[e.jsx(W,{className:"fw-bolder h3",children:a.ANNOUNCEMENT_TITLE??"NA"}),e.jsxs(d,{children:[e.jsx("span",{className:"fw-bold",children:"Position: "}),a.POSITION_NAME??"NA"," ",e.jsx("br",{}),e.jsx("span",{className:"fw-bold",children:"Department: "}),(a==null?void 0:a.department.DEPT_NAME)??"NA"]}),e.jsxs("div",{children:[((N=a==null?void 0:a.qualification_requirements)==null?void 0:N.length)>0&&e.jsx("h6",{className:"fw-bold",children:"Required Qualifications:"}),e.jsx("ul",{children:a.qualification_requirements.length>0&&a.qualification_requirements.map(s=>e.jsxs("li",{children:[s.degree.DEGREE_TITLE," - ",s.IS_REQUIRED==1?"Required":"Preferred"]},s.REQ_ID))})]}),e.jsx("div",{children:e.jsxs("h6",{className:"",children:[e.jsx("span",{className:"fw-bold",children:"Required Age:"})," ",a.AGE_FROM??"NA"," to ",a.AGE_TO??"NA"," years"]})}),e.jsx("div",{className:"border-bottom border-1 mb-2 border-secondary-subtle"}),e.jsx("div",{className:"lead",children:e.jsx(H,{htmlContent:a.DESCRIPTION||""})}),e.jsxs("div",{className:"d-flex flex-wrap justify-content-between mt-3",children:[e.jsxs(d,{className:"text-muted fw-bold",children:["Posted: ",n(a.START_DATE)]}),e.jsxs(d,{className:"text-muted fw-bold",children:["Last date to apply: ",n(a.END_DATE)]})]}),e.jsx("div",{className:"fw-bold text-danger text-center",children:"You need to be logged in to apply!"})]})})})]})]})}),e.jsx("div",{className:"col-12 col-sm-6 order-1 order-sm-2",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 col-lg-8 mx-auto login-container",children:e.jsxs("div",{className:"col-12 mx-auto",children:[e.jsx("div",{className:"d-flex align-items-center flex-wrap mt-5",children:e.jsx("img",{src:w=="dark"?L:q,width:"150",className:"",alt:"Usindh Logo"})}),e.jsx("h2",{className:"fw-bolder my-4 border-bottom border-bottom-2 border-success pb-3 text-center",children:"University of Sindh Careers"}),e.jsx("h3",{className:"fw-bold mt-5 mb-4",children:"Login"}),e.jsx(M,{initialValues:_,validationSchema:A,onSubmit:D,children:e.jsxs(F,{children:[e.jsxs("div",{className:"form-group my-2",children:[e.jsx("label",{className:"form-label fw-bold",htmlFor:"cnic_no",children:"CNIC No."}),e.jsx(b,{type:"text",className:"form-control border-0 border-bottom border-3 rounded-0",placeholder:"41304******",name:"cnic_no",id:"cnic_no",onInput:s=>s.target.value=s.target.value.replace(/\D/g,"").slice(0,13)}),e.jsx("div",{className:"small text-danger",children:e.jsx(f,{name:"cnic_no"})})]}),e.jsxs("div",{className:"form-group my-2",children:[e.jsx("label",{className:"form-label fw-bold",htmlFor:"password",children:"Password"}),e.jsx(b,{type:"password",className:"form-control border-0 border-bottom border-3 rounded-0",placeholder:"********",name:"password",id:"password"}),e.jsx("div",{className:"small text-danger",children:e.jsx(f,{name:"password"})})]}),e.jsx("button",{className:"btn btn-primary btn-sm bg-primary shadow shadow-sm rounded-pill p-3 px-5 mt-4",type:"submit",disabled:m,children:m?"Logging in...":"Login"}),e.jsxs("div",{className:"d-flex justify-content-between flex-wrap mt-3 py-2",children:[e.jsxs("p",{className:"small",children:["Don't have an account?  ",e.jsx(j,{to:"/register",className:"text-decoration-none",children:"Register"})]}),e.jsx("p",{className:"small",children:e.jsx(j,{to:"/forgot-password",className:"text-decoration-none",children:"Forgot Password?"})})]})]})}),e.jsx("div",{className:"mt-5 small shadow shadow-lg p-2",children:"© 2025 Developed by: Information Technology Services Centre, University of Sindh"})]})})})})]})})})};export{he as default};
