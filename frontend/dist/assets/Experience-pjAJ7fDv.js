import{f as j,A as u,i as p,j as s,q as N,r as m,L as C,C as b}from"./index-CFt1f066.js";import{a as E,c as h}from"./index.esm-DJsCAX2S.js";import{d as A,g as D}from"./ExperienceRequest-DueTU2yU.js";import{A as S}from"./AlertConfirm-MJ-uUc8x.js";import{A as I}from"./Alert-CXLFhIlH.js";import{C as _}from"./CCardHeader-LYpDkAY5.js";import{c as g}from"./cil-pen-53d2I-C-.js";import{c as w,a as y}from"./cil-trash-D39aHOx8.js";import{C as r,a}from"./CRow-eURKCggM.js";const R=({experience:l,onDelete:o})=>{j(e=>e.auth.authData);const n=u(),d=p();return l.length>0?l.map(e=>s.jsxs("div",{className:"card w-100 p-0 my-2",children:[s.jsxs(_,{className:"fw-bolder d-flex",children:[e.ORGANIZATION_NAME,s.jsxs("div",{className:"ms-auto",children:[s.jsx(E,{variant:"success",color:"success",className:"btn btn-outline-success btn-sm mx-1",onClick:()=>{n("/experience-edit",{state:{prevExp:e}})},children:s.jsx(h,{icon:g,size:"md"})}),s.jsx(E,{variant:"danger",color:"danger",className:"btn btn-outline-danger btn-sm mx-1",onClick:async()=>{var i,t;if(await S({title:"Delete item?",text:"This action cannot be undone."})){const c=await A(e.EXPERIANCE_ID);o(e.EXPERIANCE_ID),d({type:"EXPERIENCE_COMPLETENESS_SUCCESS",payload:(i=c==null?void 0:c.data)==null?void 0:i.experience_completeness}),I({status:!0,text:((t=c==null?void 0:c.data)==null?void 0:t.message)||"Experience deleted successfully"})}},children:s.jsx(h,{icon:w,size:"md"})})]})]}),s.jsxs("div",{className:"d-flex flex-column gap-2 p-3 small",children:[s.jsxs(r,{className:"",children:[s.jsx(a,{sm:3,className:"",children:"Employment Type"}),s.jsx(a,{sm:9,className:"fw-bold",children:e.EMP_TYPE})]}),s.jsxs(r,{className:"border-top",children:[s.jsx(a,{sm:3,className:"",children:"Job Description"}),s.jsx(a,{sm:9,className:"fw-bold",children:e.JOB_DESCRIPTION})]}),s.jsxs(r,{className:"border-top",children:[s.jsx(a,{sm:3,className:"",children:"Salary"}),s.jsx(a,{sm:9,className:"fw-bold",children:e.SALARY})]}),s.jsxs(r,{className:"border-top",children:[s.jsx(a,{sm:3,className:"",children:"Employer Contact No."}),s.jsx(a,{sm:9,className:"fw-bold",children:e.CONTACT_NO})]}),s.jsxs(r,{className:"border-top",children:[s.jsx(a,{sm:3,className:"",children:"Start Date"}),s.jsx(a,{sm:3,className:"fw-bold",children:N(e.START_DATE)||"-"}),s.jsx(a,{sm:3,className:"",children:"End Date"}),s.jsx(a,{sm:3,className:"fw-bold",children:e.IS_JOB_CONTINUE==="Y"?"Currently Working":N(e.END_DATE)||"-"})]}),e.IS_JOB_CONTINUE!=="Y"&&s.jsxs(r,{className:"border-top",children:[s.jsx(a,{sm:3,className:"",children:"Reason for leaving"}),s.jsx(a,{sm:9,children:e.REASON_FOR_LEAVING||"-"})]}),s.jsxs(r,{className:"border-top",children:[s.jsx(a,{sm:3,className:"",children:"Address"}),s.jsx(a,{sm:9,className:"fw-bold",children:e.ADDRESS||"-"})]})]})]},e.EXPERIANCE_ID)):s.jsx("p",{className:"text-center my-5",children:"Nothing to Show!"})},U=()=>{const l=j(t=>t.auth.authData),[o,n]=m.useState(!1),[d,e]=m.useState([]);async function x(){n(!0);const t=await D(l.user.USER_ID);console.log(t.data.data),e(t.data.data),n(!1)}const i=t=>{e(c=>c.filter(f=>f.EXPERIANCE_ID!==t))};return m.useEffect(()=>{x()},[]),s.jsxs("div",{children:[s.jsx("h1",{children:"Experience"}),s.jsx(C,{to:"https://careers.usindh.edu.pk/experience-add",children:s.jsxs("button",{className:"btn btn-success text-light",children:["Add New ",s.jsx(h,{icon:y})]})}),s.jsx("hr",{}),s.jsx("div",{className:"d-flex justify-content-center align-items-center flex-column flex-wrap",children:o?s.jsx(b,{className:"align-self-start",color:"primary"}):s.jsx(R,{experience:d,onDelete:i})||s.jsx("p",{className:"text-center fst-italic my-5",children:"No experience added yet!"})})]})};export{U as default};
