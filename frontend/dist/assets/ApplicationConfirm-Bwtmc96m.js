import{u as V,A as z,f as K,r as d,j as s,C as E,q as p,L as W,K as X}from"./index-CFt1f066.js";import{d as Z}from"./ApplicationRequest-BkvVguV1.js";import{A as P}from"./Alert-CXLFhIlH.js";import{a as b,c as _}from"./index.esm-DJsCAX2S.js";import{g as $}from"./QualificationRequest-CgT17vlK.js";import{g as q}from"./ExperienceRequest-DueTU2yU.js";import{C as ss,a as es}from"./CCardBody-BznE4ENn.js";import{C as x}from"./CCardHeader-LYpDkAY5.js";import{C as A}from"./CCardTitle-DQ-GefZx.js";import{c as I}from"./cil-pen-53d2I-C-.js";import{C as l,a as e}from"./CRow-eURKCggM.js";const hs=()=>{const U=V(),{announcement:c}=U.state||{},h=z(),r=K(a=>a.auth.authData),[D,w]=d.useState(!1),[u,n]=d.useState(!1),[R,B]=d.useState([]),[j,F]=d.useState([]);d.useEffect(()=>{c||h("/announcements")},[]);async function k(){n(!0);const a=await $(r.user.USER_ID);B(a.data.data),n(!1)}d.useEffect(()=>{k()},[]);async function Y(){n(!0);const a=await q(r.user.USER_ID);F(a.data.data),n(!1)}d.useEffect(()=>{Y()},[]);const[f,H]=d.useState({}),J=async()=>{var m,N,i;w(!0);const a={announcement_id:c.ANNOUNCEMENT_ID,user_id:r.user.USER_ID,profile_image:r.user.PROFILE_IMAGE,apply_date:new Date().toISOString().split("T")[0],first_name:r.user.FIRST_NAME,last_name:r.user.LAST_NAME,fname:r.user.FNAME,cnic_no:r.user.CNIC_NO,mobile_no:r.user.MOBILE_NO,email:r.user.EMAIL,gender:r.user.GENDER,marital_status:r.user.MARITAL_STATUS,religion:r.user.RELIGION,date_of_birth:new Date(r.user.DATE_OF_BIRTH),place_of_birth:r.user.PLACE_OF_BIRTH,home_address:r.user.HOME_ADDRESS,permanent_address:r.user.PERMANENT_ADDRESS,country_id:r.user.COUNTRY_ID,province_id:r.user.PROVINCE_ID,district_id:r.user.DISTRICT_ID},o=new FormData;o.append("payload",JSON.stringify(a)),o.append("application_qualification",JSON.stringify(S)),o.append("application_experience",JSON.stringify(j));try{const t=await Z(o);t.status===200&&(console.log(t),h("/dashboard"),(m=t.data)!=null&&m.redirect_url?window.location.href=t.data.redirect_url:P({status:!0,text:"Application submitted successfully"}))}catch(t){console.error(t),P({status:!1,text:((i=(N=t.response)==null?void 0:N.data)==null?void 0:i.error_message)||"Error submitting application"})}w(!1)};d.useEffect(()=>{(async(o,m=null,N=null)=>{n(!0);try{const i=await X.get("https://careers.usindh.edu.pk/backend/api/user/get-user-detail/"+o+"/"+m+"/"+N);H(t=>{var T,C,y,O,g,M,L,v,G;return{...t,country:((y=(C=(T=i.data)==null?void 0:T.data)==null?void 0:C.country[0])==null?void 0:y.COUNTRY_NAME)||"",province:((M=(g=(O=i.data)==null?void 0:O.data)==null?void 0:g.province[0])==null?void 0:M.PROVINCE_NAME)||"",district:((G=(v=(L=i.data)==null?void 0:L.data)==null?void 0:v.district[0])==null?void 0:G.DISTRICT_NAME)||""}})}catch(i){console.error("Error fetching user details:",i);return}n(!1)})(r.user.COUNTRY_ID,r.user.DOMICILE_PROVINCE||null,r.user.DISTRICT_ID||null)},[]);const Q=(a,o)=>!a||!o?[]:a.filter(m=>o.some(N=>N.DEGREE_ID===m.degree.DEGREE_ID)),S=d.useMemo(()=>Q(R,c==null?void 0:c.qualification_requirements),[R,c==null?void 0:c.qualification_requirements]);return s.jsx("div",{children:s.jsxs(ss,{className:"shadow shadow-lg my-5 border-0",children:[s.jsx("div",{className:"text-center",children:s.jsx("h1",{className:"display-4",children:"Review Application"})}),s.jsxs(es,{children:[s.jsxs("p",{children:["Please review your application details before submitting. Ensure all information is correct and complete to avoid any issues with your application. ",s.jsx("br",{}),"You will not be able to edit your application after submission.",s.jsxs("span",{className:"",children:[" If you have any questions, please contact us at ",s.jsx("a",{href:"mailto:careers@usindh.edu.pk",className:"text-decoration-none",children:"careers@usindh.edu.pk"}),"."]}),s.jsx("br",{}),s.jsx("br",{})]}),u?s.jsx(E,{className:"align-slef-start my-3",color:"primary"}):s.jsxs("div",{className:"card shadow shadow-sm my-3 w-100 p-0 my-2",children:[s.jsxs(x,{className:"fw-bolder d-flex align-items-center",children:[s.jsx(A,{className:"h5 my-2",children:"Basic Information"}),s.jsx("div",{className:"ms-auto",children:s.jsx(b,{variant:"success",color:"success",className:"btn btn-outline-success btn-sm mx-1",onClick:()=>h("/user-profile",{state:{return_url:"/confirm-application",announcement:c}}),children:s.jsx(_,{icon:I,size:"md"})})})]}),s.jsxs("div",{className:"d-flex flex-column gap-2 p-3",children:[s.jsx(l,{className:"mx-2",children:s.jsx(e,{sm:12,children:s.jsxs(l,{children:[s.jsx(e,{md:3,children:s.jsx("img",{src:"https://careers.usindh.edu.pk/resource/uploads/"+r.user.PROFILE_IMAGE,alt:"User Image",className:"img-thumbnail",style:{width:"16rem",height:"16rem"}})}),s.jsxs(e,{md:9,children:[s.jsxs(l,{children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"Name"}),s.jsx(e,{sm:10,className:"border-bottom border-1 fw-bold p-2 ",children:r.user.FIRST_NAME||""})]}),s.jsxs(l,{children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"Surname"}),s.jsx(e,{sm:10,className:"border-bottom border-1 fw-bold p-2 ",children:r.user.LAST_NAME||""})]}),s.jsxs(l,{children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"Email"}),s.jsx(e,{sm:10,className:"border-bottom border-1 fw-bold p-2 ",children:r.user.EMAIL||""})]}),s.jsxs(l,{children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"CNIC No."}),s.jsx(e,{sm:10,className:"border-bottom border-1 fw-bold p-2 ",children:r.user.CNIC_NO||""})]}),s.jsxs(l,{children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"Father's Name"}),s.jsx(e,{sm:10,className:"border-bottom border-1 fw-bold p-2 ",children:r.user.FNAME||""})]}),s.jsxs(l,{children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"Mobile No."}),s.jsx(e,{sm:10,className:"border-bottom border-1 fw-bold p-2 ",children:r.user.MOBILE_NO||""})]})]})]})})}),s.jsxs(l,{className:"mx-2",children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2",children:"Date of Birth"}),s.jsx(e,{sm:4,className:"border-bottom border-1 p-2 fw-bold",children:p(r.user.DATE_OF_BIRTH)||""}),s.jsx(e,{sm:2,className:"border-bottom border-1 p-2",children:"Place of Birth"}),s.jsx(e,{sm:4,className:"border-bottom border-1 p-2 fw-bold",children:r.user.PLACE_OF_BIRTH||""})]}),s.jsxs(l,{className:"mx-2",children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"Gender"}),s.jsx(e,{sm:4,className:"border-bottom border-1 p-2 fw-bold",children:r.user.GENDER=="M"?"MALE":r.user.GENDER=="F"?"FEMALE":""}),s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"RELIGION"}),s.jsx(e,{sm:4,className:"border-bottom border-1 p-2 fw-bold",children:r.user.RELIGION||""})]}),s.jsxs(l,{className:"mx-2",children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"MARITAL STATUS"}),s.jsx(e,{sm:4,className:"border-bottom border-1 p-2 fw-bold",children:r.user.MARITAL_STATUS==1?"SINGLE":r.user.MARITAL_STATUS==2?"MARRIED":r.user.MARITAL_STATUS==3?"WIDOWED":"DIVORCED"}),s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"COUNTRY"}),s.jsx(e,{sm:4,className:"border-bottom border-1 p-2 fw-bold",children:f.country||""})]}),s.jsxs(l,{className:"mx-2",children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"DOMICILE PROVINCE"}),s.jsx(e,{sm:4,className:"border-bottom border-1 p-2 fw-bold",children:f.province||""}),s.jsx(e,{sm:2,className:"border-bottom border-1 p-2 ",children:"DOMICILE DISTRICT"}),s.jsx(e,{sm:4,className:"border-bottom border-1 p-2 fw-bold",children:f.district||""})]}),s.jsxs(l,{className:"mx-2",children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2",children:"PERMANENT ADDRESS"}),s.jsx(e,{sm:10,className:"border-bottom border-1 p-2 fw-bold",children:r.user.PERMANENT_ADDRESS||""})]}),s.jsxs(l,{className:"mx-2",children:[s.jsx(e,{sm:2,className:"border-bottom border-1 p-2",children:"HOME ADDRESS"}),s.jsx(e,{sm:10,className:"border-bottom border-1 p-2 fw-bold",children:r.user.HOME_ADDRESS||""})]})]})]}),s.jsxs("div",{className:"card shadow shadow-sm my-3 w-100 p-0 my-2",children:[s.jsx(x,{className:"fw-bolder d-flex align-items-center",children:s.jsx(A,{className:"h5 my-2",children:"Qualifications"})}),u?s.jsx(E,{className:"align-slef-start my-3",color:"primary"}):S.map((a,o)=>s.jsxs("div",{children:[s.jsxs(x,{className:"fw-bolder d-flex align-items-center",children:[a.degree.DEGREE_TITLE||"Qualification "+(o+1),s.jsx("div",{className:"ms-auto",children:s.jsx(b,{variant:"success",color:"success",className:"btn btn-outline-success btn-sm mx-1",onClick:()=>h("/qualification-edit",{state:{prevQual:a,return_url:"/confirm-application",announcement:c}}),children:s.jsx(_,{icon:I,size:"md"})})})]}),s.jsxs("div",{className:"d-flex flex-column gap-2 p-3",children:[s.jsxs(l,{className:"",children:[s.jsx(e,{sm:3,children:"Board/University Name"}),s.jsx(e,{sm:9,className:"fw-bold",children:a.organization.INSTITUTE_NAME})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,children:"Discipline"}),s.jsx(e,{sm:9,className:"fw-bold",children:a.discipline.DISCIPLINE_NAME})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,children:"Major Subject"}),s.jsx(e,{sm:9,className:"fw-bold",children:a.MAJOR||"-"})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,children:"Roll No."}),s.jsx(e,{sm:3,className:"fw-bold",children:a.ROLL_NO||"-"}),s.jsx(e,{sm:3,children:a.GRADING_AS=="G"?"Grade":"CGPA"}),s.jsx(e,{sm:3,className:"fw-bold",children:a.GRADE||a.CGPA||"-"})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,children:"Obtained Marks"}),s.jsx(e,{sm:3,className:"fw-bold",children:a.OBTAINED_MARKS||"-"}),s.jsx(e,{sm:3,children:"Total Marks"}),s.jsx(e,{sm:3,className:"fw-bold",children:a.TOTAL_MARKS||"-"})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,children:"Passing Year"}),s.jsx(e,{sm:3,className:"fw-bold",children:a.PASSING_YEAR||"-"}),s.jsx(e,{sm:3,children:"Result Declaration Date"}),s.jsx(e,{sm:3,className:"fw-bold",children:p(a.RESULT_DATE)||"-"})]})]})]},o))]}),j.length>0&&s.jsxs("div",{className:"card shadow shadow-sm my-3 w-100 p-0 my-2",children:[s.jsx(x,{className:"fw-bolder d-flex align-items-center",children:s.jsx(A,{className:"h5 my-2",children:"Experience"})}),u?s.jsx(E,{className:"align-slef-start my-3",color:"primary"}):j.map((a,o)=>s.jsx("div",{children:s.jsxs("div",{className:"card w-100 p-0",children:[s.jsxs(x,{className:"fw-bolder d-flex",children:[a.ORGANIZATION_NAME,s.jsx("div",{className:"ms-auto",children:s.jsx(b,{variant:"success",color:"success",className:"btn btn-outline-success btn-sm mx-1",onClick:()=>{h("/experience-edit",{state:{prevExp:a,return_url:"/confirm-application",announcement:c}})},children:s.jsx(_,{icon:I,size:"md"})})})]}),s.jsxs("div",{className:"d-flex flex-column gap-2 p-3 small",children:[s.jsxs(l,{className:"",children:[s.jsx(e,{sm:3,className:"",children:"Employment Type"}),s.jsx(e,{sm:9,className:"fw-bold",children:a.EMP_TYPE})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,className:"",children:"Job Description"}),s.jsx(e,{sm:9,className:"fw-bold",children:a.JOB_DESCRIPTION})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,className:"",children:"Salary"}),s.jsx(e,{sm:9,className:"fw-bold",children:a.SALARY??"-"})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,className:"",children:"Employer Contact No."}),s.jsx(e,{sm:9,className:"fw-bold",children:a.CONTACT_NO})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,className:"",children:"Start Date"}),s.jsx(e,{sm:3,className:"fw-bold",children:p(a.START_DATE)||"-"}),s.jsx(e,{sm:3,className:"",children:"End Date"}),s.jsx(e,{sm:3,className:"fw-bold",children:a.IS_JOB_CONTINUE==="Y"?"Currently Working":p(a.END_DATE)||"-"})]}),a.IS_JOB_CONTINUE!=="Y"&&s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,className:"",children:"Reason for leaving"}),s.jsx(e,{sm:9,className:"fw-bold",children:a.REASON_FOR_LEAVING||"-"})]}),s.jsxs(l,{className:"border-top",children:[s.jsx(e,{sm:3,className:"",children:"Address"}),s.jsx(e,{sm:9,className:"fw-bold",children:a.ADDRESS||"-"})]})]})]},a.EXPERIANCE_ID)},o))]}),s.jsx("div",{className:"rounded-0",children:s.jsxs("p",{className:"fw-bold",children:[s.jsx("strong",{children:"Note:"})," Once you clicked on apply button, it will be considered final."]})})]}),s.jsxs("div",{className:"d-flex align-items-center justify-content-center gap-2 my-2",children:[s.jsx(b,{color:"primary",className:"rounded-2 p-2 fs-5 shadow shadow-sm px-3 mt-3",onClick:()=>{J()},disabled:D,children:D?"Applying...":"Apply Now"}),s.jsx(W,{to:"/announcements",children:s.jsx(b,{color:"danger",className:"rounded-2 p-2 fs-5 shadow shadow-sm px-3 mt-3",children:"Cancel"})})]})]})})};export{hs as default};
