import{r,f as D,i as S,j as e,n as b,L as p}from"./index-BFSWvyhh.js";/* empty css              */import{l as L,b as q}from"./isSymbol-B98uY8n-.js";import{F as M,a as F,b as f,E as j}from"./formik.esm-Bg87zhII.js";import{a as P}from"./AuthAction-Bnnw91pu.js";import{A as O}from"./Alert-CXLFhIlH.js";import{c as k,a as u}from"./index.esm-DKed_wgO.js";import{g as H}from"./AnnouncementRequest-BATYW7Oe.js";import{H as U}from"./HTMLRenderer-BsLyCbla.js";import{M as z}from"./Modal-CEpq9wQ8.js";import{C as G,a as Q,b as n,c as l,d as V,e as Y}from"./CTable-DiovO1D9.js";import{C as B,a as $}from"./CCardBody-Bt37Gv7-.js";import{C as W}from"./CCardTitle-D8MwU8ht.js";import{C as i}from"./CCardText-8zjthmmB.js";import"./CConditionalPortal-DaAJL4r3.js";const xe=()=>{var h;const[g,o]=r.useState(!1),[a,d]=r.useState(null),w=D(s=>s.ui.theme),v=S(),[c,m]=r.useState(!1),[x,y]=r.useState([]),C=s=>{d(s),o(!0)},E=()=>{o(!1),d(null)},T=async()=>{try{const s=await H();y(s.data)}catch(s){console.log(s)}};r.useEffect(()=>{T()},[]);const _={cnic_no:"",password:""},A=k({cnic_no:u().required("CNIC No. is required!"),password:u().required("Password is required!")}),I=async(s,{setSubmitting:t,resetForm:R,setFieldError:J})=>{t(!1),m(!0);const N=await v(P(s));N.success||O({status:!1,text:N.error.error_message||"login failed"}),R({values:s}),m(!1)};return e.jsx("div",{children:e.jsx("div",{style:{zIndex:1},className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-sm-6 order-2 order-sm-1 p-3",children:e.jsxs("div",{className:"announcement-container rounded-4 w-100 h-100 shadow shadow-lg",children:[e.jsx("h3",{className:"fw-bolder p-3 text-decoration-underline link-offset-3",children:"Recent Announcements"}),e.jsxs("div",{className:"px-3",style:{maxHeight:"84vh",overflowY:"scroll"},children:[e.jsxs(G,{striped:!0,hover:!0,bordered:!0,style:{tableLayout:"fixed"},children:[e.jsx(Q,{className:"bg-danger",style:{position:"sticky",top:0,zIndex:1},children:e.jsxs(n,{children:[e.jsx(l,{className:"col-1 bg-primary text-white fw-bold text-center",children:"#"}),e.jsx(l,{className:"bg-primary text-white fw-bold",children:"Announcement"})]})}),e.jsx(V,{className:"w-100",style:{maxHeight:"18rem",overflowY:"auto"},children:x.length<1?e.jsx(n,{children:e.jsx(l,{colSpan:2,className:"text-center",children:"No announcements available at the moment!"})}):x.map((s,t)=>e.jsxs(n,{children:[e.jsx(l,{scope:"row",className:"text-center align-middle",children:e.jsx("div",{className:"d-flex justify-content-center align-items-center fw-bold",style:{height:"100%"},children:t+1})}),e.jsx(Y,{style:{cursor:"pointer"},onClick:()=>C(s),children:e.jsx("div",{className:"scrollable-title fw-bold",children:s.ANNOUNCEMENT_TITLE})})]},s.ANNOUNCEMENT_ID))})]}),a&&e.jsx(z,{setVisible:o,visible:g,size:"lg",position:"center",onClose:E,children:e.jsx(B,{className:"shadow shadow-lg my-5 border-0",children:e.jsxs($,{children:[e.jsx(W,{className:"fw-bolder h3",children:a.ANNOUNCEMENT_TITLE??"NA"}),e.jsxs(i,{children:[e.jsx("span",{className:"fw-bold",children:"Position: "}),a.POSITION_NAME??"NA"," ",e.jsx("br",{}),e.jsx("span",{className:"fw-bold",children:"Department: "}),(a==null?void 0:a.department.DEPT_NAME)??"NA"]}),e.jsxs("div",{children:[((h=a==null?void 0:a.qualification_requirements)==null?void 0:h.length)>0&&e.jsx("h6",{className:"fw-bold",children:"Required Qualifications:"}),e.jsx("ul",{children:a.qualification_requirements.length>0&&a.qualification_requirements.map(s=>e.jsxs("li",{children:[s.degree.DEGREE_TITLE," - ",s.IS_REQUIRED==1?"Required":"Preferred"]},s.REQ_ID))})]}),e.jsx("div",{children:e.jsxs("h6",{className:"",children:[e.jsx("span",{className:"fw-bold",children:"Required Age:"})," ",a.AGE_FROM??"NA"," to ",a.AGE_TO??"NA"," years"]})}),e.jsx("div",{className:"border-bottom border-1 mb-2 border-secondary-subtle"}),e.jsx("div",{className:"lead",children:e.jsx(U,{htmlContent:a.DESCRIPTION||""})}),e.jsxs("div",{className:"d-flex flex-wrap justify-content-between mt-3",children:[e.jsxs(i,{className:"text-muted fw-bold",children:["Posted: ",b(a.START_DATE)]}),e.jsxs(i,{className:"text-muted fw-bold",children:["Last date to apply: ",b(a.END_DATE)]})]}),e.jsx("div",{className:"fw-bold text-danger text-center",children:"You need to be logged in to apply!"})]})})})]})]})}),e.jsx("div",{className:"col-12 col-sm-6 order-1 order-sm-2",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 col-lg-8 mx-auto login-container",children:e.jsxs("div",{className:"col-10 mx-auto",children:[e.jsx("div",{className:"d-flex align-items-center flex-wrap mt-5",children:e.jsx("img",{src:w=="dark"?L:q,width:"150",className:"",alt:"Usindh Logo"})}),e.jsx("h2",{className:"fw-bolder my-4 border-bottom border-bottom-2 border-success pb-3 text-center",children:"University of Sindh Careers"}),e.jsx("h3",{className:"fw-bold mt-5 mb-4",children:"Login"}),e.jsx(M,{initialValues:_,validationSchema:A,onSubmit:I,children:e.jsxs(F,{children:[e.jsxs("div",{className:"form-group my-2",children:[e.jsx("label",{className:"form-label fw-bold",htmlFor:"cnic_no",children:"CNIC No."}),e.jsx(f,{type:"text",className:"form-control border-0 border-bottom border-3 rounded-0",placeholder:"41304******",name:"cnic_no",id:"cnic_no",onInput:s=>s.target.value=s.target.value.replace(/\D/g,"").slice(0,13)}),e.jsx("div",{className:"small text-danger",children:e.jsx(j,{name:"cnic_no"})})]}),e.jsxs("div",{className:"form-group my-2",children:[e.jsx("label",{className:"form-label fw-bold",htmlFor:"password",children:"Password"}),e.jsx(f,{type:"password",className:"form-control border-0 border-bottom border-3 rounded-0",placeholder:"********",name:"password",id:"password"}),e.jsx("div",{className:"small text-danger",children:e.jsx(j,{name:"password"})})]}),e.jsx("button",{className:"btn btn-primary btn-sm bg-primary shadow shadow-sm rounded-pill p-3 px-5 mt-4",type:"submit",disabled:c,children:c?"Logging in...":"Login"}),e.jsxs("div",{className:"d-flex justify-content-between flex-wrap mt-3 py-2",children:[e.jsxs("p",{className:"small",children:["Don't have an account? Â ",e.jsx(p,{to:"/register",className:"text-decoration-none",children:"Register"})]}),e.jsx("p",{className:"small",children:e.jsx(p,{to:"/forgot-password",className:"text-decoration-none",children:"Forgot Password?"})})]})]})})]})})})})]})})})};export{xe as default};
