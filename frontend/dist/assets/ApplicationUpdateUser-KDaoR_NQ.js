import{f as T,r as E,u as h,w as R,j as l}from"./index-BFSWvyhh.js";import{F as k,a as C,b as p}from"./formik.esm-Bg87zhII.js";import{a as S}from"./ApplicationRequest-BlVA9grW.js";import{A as x}from"./Alert-CXLFhIlH.js";import{g as O}from"./UserRequest-DzQgP5aF.js";import{C as g,a as M,b as I,c as i,d as j,e as n}from"./CTable-DiovO1D9.js";import"./isSymbol-B98uY8n-.js";const v=()=>{T(a=>a.auth.authData);const[e,N]=E.useState(),_=h(),b=R(),[F,L]=E.useState(!0),{prevData:o}=_.state||{},m=async a=>{try{const c=await O(a);N(c.data.data)}catch(c){console.log(c)}};E.useEffect(()=>{m(o.USER_ID)},[]);const y={EMAIL:(e==null?void 0:e.EMAIL)??"",FIRST_NAME:(e==null?void 0:e.FIRST_NAME)??"",LAST_NAME:(e==null?void 0:e.LAST_NAME)??"",FNAME:(e==null?void 0:e.FNAME)??"",CNIC_NO:(e==null?void 0:e.CNIC_NO)??"",DATE_OF_BIRTH:(e==null?void 0:e.DATE_OF_BIRTH)??"",PLACE_OF_BIRTH:(e==null?void 0:e.PLACE_OF_BIRTH)??"",MOBILE_NO:(e==null?void 0:e.MOBILE_NO)??"",GENDER:(e==null?void 0:e.GENDER)??"",RELIGION:(e==null?void 0:e.RELIGION)??"",MARITAL_STATUS:(e==null?void 0:e.MARITAL_STATUS)??"",COUNTRY_ID:(e==null?void 0:e.COUNTRY_ID)??"",PROVINCE_ID:(e==null?void 0:e.PROVINCE_ID)??"",DISTRICT_ID:(e==null?void 0:e.DISTRICT_ID)??"",HOME_ADDRESS:(e==null?void 0:e.HOME_ADDRESS)??"",PERMANENT_ADDRESS:(e==null?void 0:e.PERMANENT_ADDRESS)??""},r=[{key:"EMAIL",label:"Email"},{key:"FIRST_NAME",label:"Firstname"},{key:"LAST_NAME",label:"Lastname"},{key:"FNAME",label:"Father's Name"},{key:"CNIC_NO",label:"CNIC No."},{key:"DATE_OF_BIRTH",label:"Date of Birth"},{key:"PLACE_OF_BIRTH",label:"Place of Birth"},{key:"MOBILE_NO",label:"Mobile No."},{key:"GENDER",label:"Gender"},{key:"RELIGION",label:"Religion"},{key:"MARITAL_STATUS",label:"Marital Status"},{key:"COUNTRY_ID",label:"Country ID"},{key:"PROVINCE_ID",label:"Province ID"},{key:"DISTRICT_ID",label:"District ID"},{key:"HOME_ADDRESS",label:"Home Address"},{key:"PERMANENT_ADDRESS",label:"Permanent Address"}];return l.jsx(k,{initialValues:{selectedFields:{},selectAll:!1},onSubmit:async a=>{var s;let c={};Object.keys(a.selectedFields).forEach(t=>{a.selectedFields[t]&&(c[t]=e[t])});try{const t=await S(c,o.APPLICATION_ID);x({status:!0,text:((s=t==null?void 0:t.data)==null?void 0:s.message)||"Application created successfully"}),b("/admin/applications")}catch(t){console.log(t)}},children:({values:a,setFieldValue:c})=>l.jsxs(C,{children:[l.jsx("div",{className:"table-responsive",children:l.jsxs(g,{children:[l.jsx(M,{children:l.jsxs(I,{children:[l.jsx(i,{align:"center",className:"col-1 bg-primary text-light",children:l.jsx("input",{type:"checkbox",checked:a.selectAll,onChange:s=>{const t=s.target.checked;c("selectAll",t),r.forEach(d=>{c(`selectedFields.${d.key}`,t)})}})}),l.jsx(i,{align:"center",className:"col-3 bg-primary text-light",children:"Column"}),l.jsx(i,{align:"center",className:"col-4 bg-primary text-light",children:"Application Data"}),l.jsx(i,{align:"center",className:"col-4 bg-primary text-light",children:"User Data"})]})}),l.jsx(j,{children:r.map(s=>l.jsxs(I,{children:[l.jsx(n,{align:"center",children:l.jsx(p,{type:"checkbox",name:`selectedFields.${s.key}`,checked:a.selectedFields[s.key]||!1,onChange:t=>{if(c(`selectedFields.${s.key}`,t.target.checked),!t.target.checked)c("selectAll",!1);else{const d=r.every(A=>A.key===s.key?t.target.checked:a.selectedFields[A.key]);c("selectAll",d)}}})}),l.jsx(n,{children:s.label}),l.jsx(n,{children:o[s.key]}),l.jsx(n,{children:y[s.key]})]},s.key))})]})}),l.jsx("button",{disabled:!Object.values(a.selectedFields).some(s=>s),className:"btn btn-primary my-3 mt-1",type:"submit",children:"Update"})]})})};export{v as default};
